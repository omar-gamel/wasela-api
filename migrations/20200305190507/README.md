# Migration `20200305190507`

This migration has been generated by omar-gamel at 3/5/2020, 7:05:07 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
ALTER TABLE "public"."PlaylistItem" DROP COLUMN "isActive";

ALTER TABLE "public"."Notification" DROP COLUMN "models",
ADD COLUMN "model" text   ;

ALTER TABLE "public"."Notification" ADD FOREIGN KEY ("model") REFERENCES "public"."NotificationModel"("id") ON DELETE SET NULL
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200305133008..20200305190507
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://postgres:root@localhost:5432/mydb?schema=public"
 }
 generator client {
   provider = "prisma-client-js"
@@ -33,9 +33,9 @@
   userPaths              UserPath[]
   userAssignments        UserAssignment[]
   reviews                Review[]
   events                 Event[]
-  availableDays          Day[]
+  myAvailableDays        Day[]
   socialAccounts         SocialAccount[]
   notificationRecipients NotificationRecipient[]
   createdAt              DateTime                @default(now())
   updatedAt              DateTime                @updatedAt
@@ -153,12 +153,12 @@
   description  String
   attachments  String[]
   lectures     Lecture[]
   assignments  Assignment[]
+  reviews      DayReview[]
   comments     Comment[]
-  reviews      DayReview[]
+  availableFor User[]
   isActive     Boolean      @default(true)
-  availableFor User[]
   createdAt    DateTime     @default(now())
   updatedAt    DateTime     @updatedAt
 }
@@ -476,9 +476,8 @@
   link      String
   likes     User[]
   comments  Comment[]
   playlist  Playlist
-  isActive  Boolean   @default(true)
   createdAt DateTime  @default(now())
   updatedAt DateTime  @updatedAt
 }
@@ -504,9 +503,9 @@
 model Notification {
   id        String                  @id @default(cuid())
   message   String
   to        NotificationRecipient[]
-  models    NotificationModel?
+  model    NotificationModel?
   type      NotificationType
   createdAt DateTime                @default(now())
   updatedAt DateTime                @updatedAt
 }
```


