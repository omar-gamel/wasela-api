# Migration `20200301190634`

This migration has been generated by omar-gamel at 3/1/2020, 7:06:34 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."User" (
    "about" text   ,
    "age" integer   ,
    "avatar" text   ,
    "comment" text   ,
    "country" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "email" text  NOT NULL DEFAULT '',
    "gender" text   ,
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "isEmailVerified" boolean  NOT NULL DEFAULT false,
    "name" text  NOT NULL DEFAULT '',
    "password" text   ,
    "phone" text   ,
    "playlistItem" text   ,
    "review" text   ,
    "roles" text  NOT NULL DEFAULT 'STUDENT',
    "slug" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "userAssignment" text   ,
    "wallet" text   ,
    "wishlist" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."SocialAccount" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "providerId" text  NOT NULL DEFAULT '',
    "providerName" text  NOT NULL DEFAULT 'GMAIL',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserMailVerification" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "verificationToken" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserResetPassword" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "resetToken" text   ,
    "resetTokenExpiry" integer   ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Category" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "icon" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "name" text  NOT NULL DEFAULT '',
    "slug" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Course" (
    "category" text  NOT NULL ,
    "coupon" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "deliverables" text []  ,
    "description" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "image" text  NOT NULL DEFAULT '',
    "instructor" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "level" text  NOT NULL DEFAULT 'BEGINNER',
    "name" text  NOT NULL DEFAULT '',
    "path" text   ,
    "prerequisites" text  NOT NULL DEFAULT '',
    "price" Decimal(65,30)  NOT NULL DEFAULT 0,
    "promoVideo" text  NOT NULL DEFAULT '',
    "requirements" text  NOT NULL DEFAULT '',
    "slug" text  NOT NULL DEFAULT '',
    "status" text  NOT NULL DEFAULT 'PENDING',
    "totalHours" integer  NOT NULL DEFAULT 0,
    "type" text  NOT NULL DEFAULT 'ONLINE',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "wishlist" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."SoftwareUsed" (
    "course" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "icon" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "name" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Day" (
    "attachments" text []  ,
    "course" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "rank" integer  NOT NULL DEFAULT 0,
    "slug" text  NOT NULL DEFAULT '',
    "title" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Lecture" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text  NOT NULL ,
    "id" text  NOT NULL ,
    "link" text  NOT NULL DEFAULT '',
    "rank" integer  NOT NULL DEFAULT 0,
    "title" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "userCourse" text   ,
    "userPath" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Assignment" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text  NOT NULL ,
    "description" text   ,
    "file" text   ,
    "id" text  NOT NULL ,
    "link" text   ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserAssignment" (
    "appearOnSpecialWorkPage" boolean  NOT NULL DEFAULT false,
    "author" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text  NOT NULL ,
    "description" text   ,
    "files" text []  ,
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."DayReview" (
    "author" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text  NOT NULL ,
    "dayRate" Decimal(65,30)  NOT NULL DEFAULT 0,
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Comment" (
    "article" text   ,
    "author" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text   ,
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "isReported" boolean  NOT NULL DEFAULT false,
    "playlistItem" text   ,
    "text" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Path" (
    "coupon" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "discount_price" Decimal(65,30)  NOT NULL DEFAULT 0,
    "id" text  NOT NULL ,
    "image" text  NOT NULL DEFAULT '',
    "isActive" boolean  NOT NULL DEFAULT true,
    "name" text  NOT NULL DEFAULT '',
    "slug" text  NOT NULL DEFAULT '',
    "total_price" Decimal(65,30)  NOT NULL DEFAULT 0,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "wishlist" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Review" (
    "author" text  NOT NULL ,
    "course" text  NOT NULL ,
    "courseRate" Decimal(65,30)  NOT NULL DEFAULT 0,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "instructorRate" Decimal(65,30)  NOT NULL DEFAULT 0,
    "isActive" boolean  NOT NULL DEFAULT true,
    "isReported" boolean  NOT NULL DEFAULT false,
    "text" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Coupon" (
    "amount" Decimal(65,30)  NOT NULL DEFAULT 0,
    "code" text  NOT NULL DEFAULT '',
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "endDate" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "isPercent" boolean  NOT NULL DEFAULT false,
    "noUse" integer  NOT NULL DEFAULT 0,
    "startDate" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "type" text  NOT NULL DEFAULT 'COURSES',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Cart" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."CartItem" (
    "cart" text   ,
    "coupon" text   ,
    "course" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "path" text   ,
    "type" text  NOT NULL DEFAULT 'COURSE',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Order" (
    "country" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "fullName" text   ,
    "id" text  NOT NULL ,
    "orderNumber" integer  NOT NULL DEFAULT 0,
    "paymentMethod" text  NOT NULL DEFAULT 'CREDIT_CARD',
    "status" text  NOT NULL DEFAULT 'PENDING',
    "subTotalPrice" Decimal(65,30)  NOT NULL DEFAULT 0,
    "totalPrice" Decimal(65,30)  NOT NULL DEFAULT 0,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."OrderItem" (
    "coupon" text   ,
    "course" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "order" text   ,
    "path" text   ,
    "price" Decimal(65,30)  NOT NULL DEFAULT 0,
    "type" text  NOT NULL DEFAULT 'COURSE',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Purchase" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "item" text  NOT NULL ,
    "paymentMethod" text  NOT NULL DEFAULT 'CREDIT_CARD',
    "price" Decimal(65,30)  NOT NULL DEFAULT 0,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."PurchaseItem" (
    "course" text   ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "path" text   ,
    "type" text  NOT NULL DEFAULT 'COURSE',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Wallet" (
    "balance" Decimal(65,30)  NOT NULL DEFAULT 0,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Wishlist" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserCourse" (
    "course" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "progress" integer  NOT NULL DEFAULT 0,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserCourseDay" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "day" text  NOT NULL ,
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT false,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "userCourse" text   ,
    "userPathCourse" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserPath" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "path" text  NOT NULL ,
    "progress" integer  NOT NULL DEFAULT 0,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."UserPathCourse" (
    "course" text  NOT NULL ,
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "userPath" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."SiteDetail" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "email" text   ,
    "id" text  NOT NULL ,
    "mission" text   ,
    "number" text   ,
    "privacyAndPolices" text   ,
    "termsAndConditions" text   ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "vision" text   ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Faq" (
    "answer" text  NOT NULL DEFAULT '',
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "question" text  NOT NULL DEFAULT '',
    "rank" integer  NOT NULL DEFAULT 0,
    "siteDetail" text   ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."ContactUsMessage" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "email" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "message" text  NOT NULL DEFAULT '',
    "name" text  NOT NULL DEFAULT '',
    "phone" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Section" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "title" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Article" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "image" text  NOT NULL DEFAULT '',
    "section" text  NOT NULL ,
    "text" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Playlist" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "id" text  NOT NULL ,
    "image" text  NOT NULL DEFAULT '',
    "isActive" boolean  NOT NULL DEFAULT true,
    "name" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."PlaylistItem" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "isActive" boolean  NOT NULL DEFAULT true,
    "link" text  NOT NULL DEFAULT '',
    "playlist" text  NOT NULL ,
    "rank" integer  NOT NULL DEFAULT 0,
    "title" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Event" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "description" text  NOT NULL DEFAULT '',
    "endDate" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "image" text  NOT NULL DEFAULT '',
    "isActive" boolean  NOT NULL DEFAULT true,
    "place" text  NOT NULL DEFAULT '',
    "slug" text  NOT NULL DEFAULT '',
    "startDate" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "title" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Notification" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "message" text  NOT NULL DEFAULT '',
    "type" text  NOT NULL DEFAULT 'EVENT_ALARM',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."NotificationModel" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "name" text  NOT NULL DEFAULT '',
    "notification" text   ,
    "slug" text  NOT NULL DEFAULT '',
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."NotificationRecipient" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "isSeen" boolean  NOT NULL DEFAULT false,
    "notification" text   ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "user" text  NOT NULL ,
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."Graduates" (
    "createdAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    "id" text  NOT NULL ,
    "student" text  NOT NULL ,
    "updatedAt" timestamp(3)  NOT NULL DEFAULT '1970-01-01 00:00:00',
    PRIMARY KEY ("id")
) 

CREATE TABLE "public"."_EventToUser" (
    "A" text  NOT NULL ,
    "B" text  NOT NULL 
) 

CREATE UNIQUE INDEX "User.email" ON "public"."User"("email")

CREATE UNIQUE INDEX "User.slug" ON "public"."User"("slug")

CREATE UNIQUE INDEX "User_wishlist" ON "public"."User"("wishlist")

CREATE UNIQUE INDEX "User_wallet" ON "public"."User"("wallet")

CREATE UNIQUE INDEX "SocialAccount.providerId" ON "public"."SocialAccount"("providerId")

CREATE UNIQUE INDEX "UserMailVerification.email" ON "public"."UserMailVerification"("email")

CREATE UNIQUE INDEX "UserResetPassword.email" ON "public"."UserResetPassword"("email")

CREATE UNIQUE INDEX "Category.name" ON "public"."Category"("name")

CREATE UNIQUE INDEX "Category.slug" ON "public"."Category"("slug")

CREATE UNIQUE INDEX "Course.slug" ON "public"."Course"("slug")

CREATE UNIQUE INDEX "Day.slug" ON "public"."Day"("slug")

CREATE UNIQUE INDEX "Path.slug" ON "public"."Path"("slug")

CREATE UNIQUE INDEX "Coupon.code" ON "public"."Coupon"("code")

CREATE UNIQUE INDEX "Cart_user" ON "public"."Cart"("user")

CREATE UNIQUE INDEX "Event.slug" ON "public"."Event"("slug")

CREATE UNIQUE INDEX "_EventToUser_AB_unique" ON "public"."_EventToUser"("A","B")

ALTER TABLE "public"."User" ADD FOREIGN KEY ("wishlist") REFERENCES "public"."Wishlist"("id") ON DELETE SET NULL

ALTER TABLE "public"."User" ADD FOREIGN KEY ("wallet") REFERENCES "public"."Wallet"("id") ON DELETE SET NULL

ALTER TABLE "public"."User" ADD FOREIGN KEY ("userAssignment") REFERENCES "public"."UserAssignment"("id") ON DELETE SET NULL

ALTER TABLE "public"."User" ADD FOREIGN KEY ("comment") REFERENCES "public"."Comment"("id") ON DELETE SET NULL

ALTER TABLE "public"."User" ADD FOREIGN KEY ("review") REFERENCES "public"."Review"("id") ON DELETE SET NULL

ALTER TABLE "public"."User" ADD FOREIGN KEY ("playlistItem") REFERENCES "public"."PlaylistItem"("id") ON DELETE SET NULL

ALTER TABLE "public"."SocialAccount" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Course" ADD FOREIGN KEY ("instructor") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Course" ADD FOREIGN KEY ("category") REFERENCES "public"."Category"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Course" ADD FOREIGN KEY ("path") REFERENCES "public"."Path"("id") ON DELETE SET NULL

ALTER TABLE "public"."Course" ADD FOREIGN KEY ("coupon") REFERENCES "public"."Coupon"("id") ON DELETE SET NULL

ALTER TABLE "public"."Course" ADD FOREIGN KEY ("wishlist") REFERENCES "public"."Wishlist"("id") ON DELETE SET NULL

ALTER TABLE "public"."SoftwareUsed" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE SET NULL

ALTER TABLE "public"."Day" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Lecture" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Lecture" ADD FOREIGN KEY ("userCourse") REFERENCES "public"."UserCourse"("id") ON DELETE SET NULL

ALTER TABLE "public"."Lecture" ADD FOREIGN KEY ("userPath") REFERENCES "public"."UserPath"("id") ON DELETE SET NULL

ALTER TABLE "public"."Assignment" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserAssignment" ADD FOREIGN KEY ("author") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserAssignment" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE RESTRICT

ALTER TABLE "public"."DayReview" ADD FOREIGN KEY ("author") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."DayReview" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("author") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE SET NULL

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("article") REFERENCES "public"."Article"("id") ON DELETE SET NULL

ALTER TABLE "public"."Comment" ADD FOREIGN KEY ("playlistItem") REFERENCES "public"."PlaylistItem"("id") ON DELETE SET NULL

ALTER TABLE "public"."Path" ADD FOREIGN KEY ("coupon") REFERENCES "public"."Coupon"("id") ON DELETE SET NULL

ALTER TABLE "public"."Path" ADD FOREIGN KEY ("wishlist") REFERENCES "public"."Wishlist"("id") ON DELETE SET NULL

ALTER TABLE "public"."Review" ADD FOREIGN KEY ("author") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Review" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Coupon" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Cart" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."CartItem" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE SET NULL

ALTER TABLE "public"."CartItem" ADD FOREIGN KEY ("path") REFERENCES "public"."Path"("id") ON DELETE SET NULL

ALTER TABLE "public"."CartItem" ADD FOREIGN KEY ("coupon") REFERENCES "public"."Coupon"("id") ON DELETE SET NULL

ALTER TABLE "public"."CartItem" ADD FOREIGN KEY ("cart") REFERENCES "public"."Cart"("id") ON DELETE SET NULL

ALTER TABLE "public"."Order" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."OrderItem" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE SET NULL

ALTER TABLE "public"."OrderItem" ADD FOREIGN KEY ("path") REFERENCES "public"."Path"("id") ON DELETE SET NULL

ALTER TABLE "public"."OrderItem" ADD FOREIGN KEY ("coupon") REFERENCES "public"."Coupon"("id") ON DELETE SET NULL

ALTER TABLE "public"."OrderItem" ADD FOREIGN KEY ("order") REFERENCES "public"."Order"("id") ON DELETE SET NULL

ALTER TABLE "public"."Purchase" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."Purchase" ADD FOREIGN KEY ("item") REFERENCES "public"."PurchaseItem"("id") ON DELETE RESTRICT

ALTER TABLE "public"."PurchaseItem" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE SET NULL

ALTER TABLE "public"."PurchaseItem" ADD FOREIGN KEY ("path") REFERENCES "public"."Path"("id") ON DELETE SET NULL

ALTER TABLE "public"."UserCourse" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserCourse" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserCourseDay" ADD FOREIGN KEY ("day") REFERENCES "public"."Day"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserCourseDay" ADD FOREIGN KEY ("userCourse") REFERENCES "public"."UserCourse"("id") ON DELETE SET NULL

ALTER TABLE "public"."UserCourseDay" ADD FOREIGN KEY ("userPathCourse") REFERENCES "public"."UserPathCourse"("id") ON DELETE SET NULL

ALTER TABLE "public"."UserPath" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserPath" ADD FOREIGN KEY ("path") REFERENCES "public"."Path"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserPathCourse" ADD FOREIGN KEY ("course") REFERENCES "public"."Course"("id") ON DELETE RESTRICT

ALTER TABLE "public"."UserPathCourse" ADD FOREIGN KEY ("userPath") REFERENCES "public"."UserPath"("id") ON DELETE SET NULL

ALTER TABLE "public"."Faq" ADD FOREIGN KEY ("siteDetail") REFERENCES "public"."SiteDetail"("id") ON DELETE SET NULL

ALTER TABLE "public"."Article" ADD FOREIGN KEY ("section") REFERENCES "public"."Section"("id") ON DELETE RESTRICT

ALTER TABLE "public"."PlaylistItem" ADD FOREIGN KEY ("playlist") REFERENCES "public"."Playlist"("id") ON DELETE RESTRICT

ALTER TABLE "public"."NotificationModel" ADD FOREIGN KEY ("notification") REFERENCES "public"."Notification"("id") ON DELETE SET NULL

ALTER TABLE "public"."NotificationRecipient" ADD FOREIGN KEY ("user") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."NotificationRecipient" ADD FOREIGN KEY ("notification") REFERENCES "public"."Notification"("id") ON DELETE SET NULL

ALTER TABLE "public"."Graduates" ADD FOREIGN KEY ("student") REFERENCES "public"."User"("id") ON DELETE RESTRICT

ALTER TABLE "public"."_EventToUser" ADD FOREIGN KEY ("A") REFERENCES "public"."Event"("id") ON DELETE CASCADE

ALTER TABLE "public"."_EventToUser" ADD FOREIGN KEY ("B") REFERENCES "public"."User"("id") ON DELETE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration ..20200301190634
--- datamodel.dml
+++ datamodel.dml
@@ -1,0 +1,554 @@
+datasource db {
+  provider = "postgresql"
+  url      = "postgresql://postgres:root@localhost:5432/mydb?schema=public"
+}
+
+generator client {
+  provider = "prisma-client-js"
+}
+
+// _______________________
+
+model User {
+  id                     String                  @id @default(cuid())
+  email                  String                  @unique
+  name                   String
+  slug                   String                  @unique
+  about                  String?
+  phone                  String?
+  password               String?
+  avatar                 String?
+  isEmailVerified        Boolean                 @default(false)
+  isActive               Boolean                 @default(true)
+  roles                  Role                    @default(STUDENT)
+  age                    Int?
+  gender                 Gender?
+  country                String?
+  wishlist               Wishlist?
+  cart                   Cart?
+  wallet                 Wallet?
+  orders                 Order[]
+  purchases              Purchase[]
+  userCourses            UserCourse[]
+  userPaths              UserPath[]
+  reviews                Review[]
+  events                 Event[]
+  socialAccounts         SocialAccount[]
+  notificationRecipients NotificationRecipient[]
+  createdAt              DateTime                @default(now())
+  updatedAt              DateTime                @updatedAt
+}
+
+enum Role {
+  STUDENT INSTRUCTOR ADMIN
+}
+
+enum Gender {
+  MALE FEMALE
+}
+
+model SocialAccount {
+  id           String         @id @default(cuid())
+  user         User
+  providerId   String         @unique
+  providerName SocialProvider
+  createdAt    DateTime       @default(now())
+  updatedAt    DateTime       @updatedAt
+}
+
+enum SocialProvider {
+  GMAIL FACEBOOK TWITTER
+}
+
+model UserMailVerification {
+  id                String   @id @default(cuid())
+  email             String   @unique
+  verificationToken String?
+  createdAt         DateTime @default(now())
+  updatedAt         DateTime @updatedAt
+}
+
+model UserResetPassword {
+  id               String   @id @default(cuid())
+  email            String   @unique
+  resetToken       String?
+  resetTokenExpiry Int?
+  createdAt        DateTime @default(now())
+  updatedAt        DateTime @updatedAt
+}
+
+// _______________________
+
+model Category {
+  id          String   @id @default(cuid())
+  name        String   @unique
+  slug        String   @unique
+  description String
+  icon        String
+  isActive    Boolean  @default(true)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+// _______________________
+
+model Course {
+  id            String             @id @default(cuid())
+  name          String
+  slug          String             @unique
+  description   String
+  prerequisites String
+  requirements  String
+  deliverables  String[]
+  price         Float
+  image         String
+  promoVideo    String
+  totalHours    Int
+  softwareUsed  SoftwareUsed[]
+  level         CourseLevel
+  type          CourseType
+  status        CourseReviewStatus @default(PENDING)
+  isActive      Boolean            @default(true)
+  days          Day[]
+  instructor    User
+  category      Category
+  review        Review[]
+  createdAt     DateTime           @default(now())
+  updatedAt     DateTime           @updatedAt
+}
+
+model SoftwareUsed {
+  id        String   @id @default(cuid())
+  name      String
+  icon      String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+enum CourseLevel {
+  BEGINNER INTERMEDIATE ADVANVED
+}
+
+enum CourseType {
+  ONLINE OFFLINE
+}
+
+enum CourseReviewStatus {
+  PENDING ACCEPTED REJECTED
+}
+
+// _______________________
+
+model Day {
+  id          String       @id @default(cuid())
+  rank        Int
+  title       String
+  slug        String       @unique
+  course      Course
+  description String
+  attachments String[]
+  lectures    Lecture[]
+  assignments Assignment[]
+
+  comments Comment[]
+  reviews  DayReview[]
+
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+model Lecture {
+  id        String   @id @default(cuid())
+  rank      Int
+  title     String
+  link      String
+  day       Day
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+model Assignment {
+  id          String   @id @default(cuid())
+  link        String?
+  file        String?
+  description String?
+  day         Day
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+model UserAssignment {
+  id                      String   @id @default(cuid())
+  day                     Day
+  author                  User
+  description             String?
+  files                   String[]
+  likes                   User[]   @relation("User_Likes")
+  appearOnSpecialWorkPage Boolean  @default(false)
+  isActive                Boolean  @default(true)
+  createdAt               DateTime @default(now())
+  updatedAt               DateTime @updatedAt
+}
+
+model DayReview {
+  id        String   @id @default(cuid())
+  day       Day
+  author    User
+  dayRate   Float
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model Comment {
+  id         String   @id @default(cuid())
+  author     User
+  text       String
+  isActive   Boolean  @default(true)
+  isReported Boolean  @default(false)
+  reporters  User[]   @relation("Reporters_Comment")
+  createdAt  DateTime @default(now())
+  updatedAt  DateTime @updatedAt
+}
+
+// _______________________
+
+model Path {
+  id             String   @id @default(cuid())
+  name           String
+  slug           String   @unique
+  description    String
+  total_price    Float
+  discount_price Float
+  image          String
+  courses        Course[]
+  isActive       Boolean  @default(true)
+  createdAt      DateTime @default(now())
+  updatedAt      DateTime @updatedAt
+}
+
+// _______________________
+
+model Review {
+  id             String   @id @default(cuid())
+  author         User
+  course         Course
+  text           String
+  instructorRate Float
+  courseRate     Float
+  isActive       Boolean  @default(true)
+  isReported     Boolean  @default(false)
+  reporters      User[]   @relation("Reporters_Review")
+  createdAt      DateTime @default(now())
+  updatedAt      DateTime @updatedAt
+}
+
+// _______________________
+
+model Coupon {
+  id        String            @id @default(cuid())
+  code      String            @unique
+  isPercent Boolean
+  amount    Float
+  startDate DateTime
+  endDate   DateTime
+  isActive  Boolean           @default(true)
+  user      User
+  courses   Course[]
+  paths     Path[]
+  type      CouponAppliedType
+  noUse     Int
+  createdAt DateTime          @default(now())
+  updatedAt DateTime          @updatedAt
+}
+
+enum CouponAppliedType {
+  COURSES PATHS
+}
+
+// _______________________
+
+model Cart {
+  id        String     @id @default(cuid())
+  user      User
+  items     CartItem[]
+  createdAt DateTime   @default(now())
+  updatedAt DateTime   @updatedAt
+}
+
+model CartItem {
+  id        String   @id @default(cuid())
+  course    Course?
+  path      Path?
+  type      ItemType
+  coupon    Coupon?
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+enum ItemType {
+  COURSE PATH
+}
+
+// _______________________
+
+model Order {
+  id            String         @id @default(cuid())
+  orderNumber   Int
+  items         OrderItem[]
+  user          User
+  status        OrderStatus    @default(PENDING)
+  subTotalPrice Float
+  totalPrice    Float
+  fullName      String?
+  country       String?
+  paymentMethod PaymentMethods
+  createdAt     DateTime       @default(now())
+  updatedAt     DateTime       @updatedAt
+}
+
+model OrderItem {
+  id        String   @id @default(cuid())
+  price     Float
+  course    Course?
+  path      Path?
+  type      ItemType
+  coupon    Coupon?
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+enum PaymentMethods {
+  CREDIT_CARD BANK_ACCOUNT PAYPAL WESTERN_UNION AMAN VODAFONE_CASH MOBI_CASH
+}
+
+enum OrderStatus {
+  PENDING APPROVED REJECTED
+}
+
+// _______________________
+
+model Purchase {
+  id            String         @id @default(cuid())
+  user          User
+  item          PurchaseItem
+  price         Float
+  paymentMethod PaymentMethods
+  createdAt     DateTime       @default(now())
+  updatedAt     DateTime       @updatedAt
+}
+
+model PurchaseItem {
+  id        String   @id @default(cuid())
+  course    Course?
+  path      Path?
+  type      ItemType
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model Wallet {
+  id        String   @id @default(cuid())
+  user      User
+  balance   Float    @default(0)
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model Wishlist {
+  id        String   @id @default(cuid())
+  user      User
+  courses   Course[]
+  paths     Path[]
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model UserCourse {
+  id              String          @id @default(cuid())
+  user            User
+  course          Course
+  days            UserCourseDay[]
+  watchedLectures Lecture[]
+  progress        Int             @default(0)
+  createdAt       DateTime        @default(now())
+  updatedAt       DateTime        @updatedAt
+}
+
+model UserCourseDay {
+  id        String   @id @default(cuid())
+  day       Day
+  isActive  Boolean  @default(false)
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model UserPath {
+  id              String           @id @default(cuid())
+  user            User
+  path            Path
+  userPathCourses UserPathCourse[]
+  watchedLectures Lecture[]
+  progress        Int              @default(0)
+  createdAt       DateTime         @default(now())
+  updatedAt       DateTime         @updatedAt
+}
+
+model UserPathCourse {
+  id        String          @id @default(cuid())
+  course    Course
+  days      UserCourseDay[]
+  createdAt DateTime        @default(now())
+  updatedAt DateTime        @updatedAt
+}
+
+// _______________________
+
+model SiteDetail {
+  id                 String   @id @default(cuid())
+  faqs               Faq[]
+  termsAndConditions String?
+  privacyAndPolices  String?
+  email              String?
+  number             String?
+  mission            String?
+  vision             String?
+  createdAt          DateTime @default(now())
+  updatedAt          DateTime @updatedAt
+}
+
+model Faq {
+  id        String   @id @default(cuid())
+  rank      Int
+  question  String
+  answer    String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model ContactUsMessage {
+  id        String   @id @default(cuid())
+  name      String
+  email     String
+  phone     String
+  message   String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+// _______________________
+
+model Section {
+  id          String    @id @default(cuid())
+  title       String
+  description String
+  articles    Article[]
+  isActive    Boolean   @default(true)
+  createdAt   DateTime  @default(now())
+  updatedAt   DateTime  @updatedAt
+}
+
+model Article {
+  id        String    @id @default(cuid())
+  image     String
+  text      String
+  comments  Comment[]
+  section   Section
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
+}
+
+// _______________________
+
+model Playlist {
+  id          String         @id @default(cuid())
+  name        String
+  description String
+  image       String
+  items       PlaylistItem[]
+  isActive    Boolean        @default(true)
+  createdAt   DateTime       @default(now())
+  updatedAt   DateTime       @updatedAt
+}
+
+model PlaylistItem {
+  id        String    @id @default(cuid())
+  rank      Int
+  title     String
+  link      String
+  likes     User[]
+  comments  Comment[]
+  playlist  Playlist
+  isActive  Boolean   @default(true)
+  createdAt DateTime  @default(now())
+  updatedAt DateTime  @updatedAt
+}
+
+// _______________________
+
+model Event {
+  id          String   @id @default(cuid())
+  title       String
+  slug        String   @unique
+  description String
+  image       String
+  startDate   DateTime
+  endDate     DateTime
+  place       String
+  interested  User[]
+  isActive    Boolean  @default(true)
+  createdAt   DateTime @default(now())
+  updatedAt   DateTime @updatedAt
+}
+
+// _______________________
+
+model Notification {
+  id        String                  @id @default(cuid())
+  message   String
+  to        NotificationRecipient[]
+  models    NotificationModel[]
+  type      NotificationType
+  createdAt DateTime                @default(now())
+  updatedAt DateTime                @updatedAt
+}
+
+model NotificationModel {
+  id        String   @id @default(cuid())
+  name      String
+  slug      String
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+model NotificationRecipient {
+  id        String   @id @default(cuid())
+  user      User
+  isSeen    Boolean  @default(false)
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
+
+enum NotificationType {
+  EVENT_ALARM NEW_COURSE_SUBMITTED OFFLINE_ORDER_SUBMITTED PURCHASE REVIEW_REPORTED COMMENT_REPORTED
+}
+
+// _______________________
+
+model Graduates {
+  id        String   @id @default(cuid())
+  student   User
+  createdAt DateTime @default(now())
+  updatedAt DateTime @updatedAt
+}
```


