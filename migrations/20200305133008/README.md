# Migration `20200305133008`

This migration has been generated by omar-gamel at 3/5/2020, 1:30:08 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "public"."_DayToUser" (
    "A" text  NOT NULL ,
    "B" text  NOT NULL 
) 

ALTER TABLE "public"."User" DROP COLUMN "day";

CREATE UNIQUE INDEX "_DayToUser_AB_unique" ON "public"."_DayToUser"("A","B")

ALTER TABLE "public"."_DayToUser" ADD FOREIGN KEY ("A") REFERENCES "public"."Day"("id") ON DELETE CASCADE

ALTER TABLE "public"."_DayToUser" ADD FOREIGN KEY ("B") REFERENCES "public"."User"("id") ON DELETE CASCADE
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20200305131707..20200305133008
--- datamodel.dml
+++ datamodel.dml
@@ -1,7 +1,7 @@
 datasource db {
   provider = "postgresql"
-  url = "***"
+  url      = "postgresql://postgres:root@localhost:5432/mydb?schema=public"
 }
 generator client {
   provider = "prisma-client-js"
@@ -33,8 +33,9 @@
   userPaths              UserPath[]
   userAssignments        UserAssignment[]
   reviews                Review[]
   events                 Event[]
+  availableDays          Day[]
   socialAccounts         SocialAccount[]
   notificationRecipients NotificationRecipient[]
   createdAt              DateTime                @default(now())
   updatedAt              DateTime                @updatedAt
```


